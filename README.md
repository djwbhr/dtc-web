# News Web Application

React-приложение для просмотра новостей с использованием News API.

## Требования

- Node.js (версия 14 или выше)
- npm или bun
- API ключ от News API

## Установка

1. Клонируйте репозиторий:

```bash
git clone <repository-url>
cd dtc-web
```

2. Установите зависимости:

```bash
npm install
```

3. Создайте файл `.env` в корневой директории проекта и добавьте ваш API ключ:

```
VITE_NEWS_API_KEY=ваш_api_ключ
```

## Запуск приложения

### Локальная разработка

Для локальной разработки необходимо запустить два сервера:

1. **Прокси-сервер** (в первом терминале):

```bash
node server.js
```

Прокси-сервер будет доступен по адресу: `http://ВАШ_IP_АДРЕС:3001`

2. **React-приложение** (во втором терминале):

```bash
npm run dev
```

Приложение будет доступно по адресу: `http://ВАШ_IP_АДРЕС:5173`

### Настройка для доступа с других устройств

1. Найдите ваш локальный IP-адрес:

```bash
ipconfig
```

Ищите IPv4-адрес в разделе "Адаптер беспроводной локальной сети" или "Ethernet adapter". Это будет что-то вроде `192.168.1.xxx`.

2. Обновите IP-адрес в файле `src/services/newsApi.ts`:

```typescript
const API_URL = "http://ВАШ_IP_АДРЕС:3001/api/news";
```

3. Запустите серверы:

```bash
# Прокси-сервер
node server.js

# React-приложение
npm run dev
```

4. Приложение будет доступно по адресу: `http://ВАШ_IP_АДРЕС:5173`

### Подключение React Native приложения

1. Убедитесь, что мобильное устройство находится в той же Wi-Fi сети

## Устранение неполадок

1. **Ошибка 426 (Not Acceptable)**

   - Убедитесь, что server.js запущен
   - Проверьте правильность API ключа в файле .env

2. **Ошибка подключения с других устройств**

   - Проверьте, что устройства находятся в одной сети
   - Убедитесь, что брандмауэр не блокирует подключения
   - Проверьте правильность IP-адреса в `newsApi.ts`
   - Убедитесь, что порты 3001 и 5173 открыты в брандмауэре

3. **Ошибки при запуске прокси-сервера**
   - Убедитесь, что все зависимости установлены
   - Проверьте, что порт 3001 не занят другим приложением
   - Если возникает ошибка с модулями, попробуйте переустановить зависимости:
     ```bash
     npm uninstall express cors axios dotenv
     npm install express@4.18.2 cors@2.8.5 axios@1.6.2 dotenv@16.3.1
     ```
